/* --- Responsive Styles --- */

/* Tablet Breakpoint */
@media (max-width: 960px) {
    #game-area {
        flex-direction: column;
        align-items: stretch; /* Stretch children to full width */
        max-width: 95%;
        padding: 1rem;
        overflow-y: auto; /* Allow game area itself to scroll if needed */
    }
     #prep-station, #ui-area {
        min-width: unset; /* Remove min-width */
        width: 100%; /* Take full width */
        margin-bottom: 1rem;
        max-height: 60vh; /* Limit height to prevent excessive scrolling */
    }
     #prep-station { order: 1; }
     #ui-area { order: 2; max-height: 30vh; } /* UI area smaller height */

     #table-area {
        max-width: 95%;
        padding: 1rem;
        max-height: 300px; /* Keep max height reasonable */
        min-height: 140px; /* Ensure minimum space */
    }
    .customer-table-seat {
        width: 180px; /* Maintain seat width */
        min-height: 110px;
    }
    #current-orders-display {
        max-height: 100px; /* Adjust scrollable height */
    }
}

/* Mobile Breakpoint */
@media (max-width: 600px) {
    h1 { font-size: 1.5rem; margin-top: 1rem; margin-bottom: 0.8rem; }
    #game-area {
        width: calc(100% - 1rem);
        margin: 0 0.5rem 0.5rem 0.5rem;
        padding: 0.8rem;
        min-height: auto; /* Allow shrinking */
        max-height: none; /* Remove max height */
    }
    #prep-station, #ui-area {
        padding: 0.8rem;
        max-height: none; /* Remove max height */
    }
     #table-area {
        width: calc(100% - 1rem);
        margin: 1rem auto;
        padding: 0.8rem;
        min-height: 120px;
        max-height: 280px;
    }
    #customer-orders-at-table {
        gap: 0.5rem; /* Reduce gap */
    }
    .customer-table-seat {
        width: 160px; /* Slightly smaller seats */
        min-height: 105px;
        padding: 0.6rem;
    }
    .customer-seat-label { font-size: 0.9rem; }
    .customer-status-display { min-height: 50px; font-size: 0.85em;}
    .customer-status-display .order-visual { font-size: 1.7rem; }

    /* Increase touch target sizes */
    .ingredient-btn {
        padding: 0.8rem 1.1rem; /* Larger padding */
        font-size: 1.1rem;
        margin: 0; /* Rely on gap */
    }
    #ingredient-buttons {
        gap: 0.6rem; /* Adjust gap slightly */
    }
    #prep-display { font-size: 1.4rem; min-height: 45px; }
    .finished-dish-item {
        font-size: 1.7em; /* Slightly larger */
        padding: 0.3rem 0.7rem; /* Adjust padding */
    }
    #finished-dish-display {
        gap: 0.7rem; /* More space between dishes */
        padding: 0.8rem;
    }
    #finish-prep-btn {
        font-size: 1rem; /* Keep font size */
        padding: 0.8rem 1.4rem; /* Adjust padding */
    }
    #clear-prep-btn {
        font-size: 0.9rem; /* Keep font size */
        padding: 0.6rem 1rem; /* Adjust padding */
    }
    .prep-actions { gap: 0.8rem; }
}

/* Very Small Mobile Breakpoint */
@media (max-width: 420px) {
     h1 { font-size: 1.3rem; }
     #table-area {
         max-height: 240px;
     }
     /* Stack seats vertically */
     #customer-orders-at-table {
         gap: 0.8rem; /* More vertical gap */
         justify-content: center; /* Center single column */
     }
     .customer-table-seat {
         width: calc(90% - 1rem); /* Almost full width */
         min-width: 150px; /* Min width */
         margin: 0 auto; /* Center the single column */
     }

     #prep-display { font-size: 1.3rem; }
     #waiting-orders-area h3 { font-size: 0.9rem; }
     #current-orders-display { font-size: 0.85rem; max-height: 80px; }

     /* Adjust button sizes again if needed */
     .ingredient-btn {
        padding: 0.7rem 1rem;
        font-size: 1rem; /* Slightly smaller font if needed */
     }
     #ingredient-buttons {
        gap: 0.5rem;
     }
     #finish-prep-btn {
         font-size: 0.9rem;
         padding: 0.7rem 1.2rem;
     }
     #clear-prep-btn {
         font-size: 0.8rem;
         padding: 0.5rem 0.8rem;
     }
     .finished-dish-item {
         font-size: 1.6em;
     }
}

/* Adjustments for very short screens (Avoid applying on small mobile width where vertical space is already tight) */
@media (max-height: 650px) and (min-width: 601px) {
     h1 { font-size: 1.4rem; margin-top: 1rem; margin-bottom: 0.5rem; }
    #game-area { padding: 1rem; margin-bottom: 0.5rem; max-height: 80vh;} /* Limit height */
     #prep-station, #ui-area { padding: 0.8rem; }
     #prep-station { max-height: 55vh; }
     #ui-area { max-height: 25vh; }

     #prep-station-title { font-size: 1.2rem; }
     .ingredient-btn { padding: 0.6rem 0.8rem; font-size: 1rem; }
     #prep-display { font-size: 1.4rem; min-height: 45px; }
     .finished-dish-item { font-size: 1.6em; }
     #finished-dish-display { min-height: 45px; padding: 0.5rem;}
     #finish-prep-btn { font-size: 0.9rem; padding: 0.7rem 1.2rem;}
     #sushi-belt-container { min-height: 70px; margin: 1rem auto 0.5rem auto; }
     #sushi-belt-track { height: 35px; }
     .belt-placeholder { font-size: 1.6em; }
     #message-area { font-size: 0.9rem; min-height: 25px; }

     #table-area {
        min-height: 130px;
        padding: 1rem;
        margin: 1rem auto;
        max-height: 200px;
     }
     #table-area h2 { font-size: 1.1rem; margin-bottom: 0.5rem; }
     .customer-table-seat { min-height: 100px; }
     .customer-status-display .order-visual { font-size: 1.8rem; }
}